version: 1
frontend:
  phases:
    preBuild:
      commands:
        - npm ci
    build:
      commands:
        - npm run build
  artifacts:
    baseDirectory: .next
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*
appRoot: .
environmentVariables:
  # AWS Configuration
  CUSTOM_AWS_REGION: sa-east-1
  CUSTOM_ACCESS_KEY_ID: ${CUSTOM_ACCESS_KEY_ID}
  CUSTOM_SECRET_ACCESS_KEY: ${CUSTOM_SECRET_ACCESS_KEY}
  NEXT_PUBLIC_API_ENDPOINT: ${NEXT_PUBLIC_API_ENDPOINT}
  NEXT_PUBLIC_AWS_REGION: sa-east-1
  NEXT_PUBLIC_COGNITO_USER_POOL_ID: ${NEXT_PUBLIC_COGNITO_USER_POOL_ID}
  NEXT_PUBLIC_COGNITO_CLIENT_ID: ${NEXT_PUBLIC_COGNITO_CLIENT_ID}
  NEXT_PUBLIC_COGNITO_DOMAIN: ${NEXT_PUBLIC_COGNITO_DOMAIN}
  NEXT_PUBLIC_COGNITO_REGION: sa-east-1
  STRIPE_SECRET_KEY: ${STRIPE_SECRET_KEY}
  NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY: ${NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY}
  NEXT_PUBLIC_BASE_URL: ${NEXT_PUBLIC_BASE_URL}
  DYNAMODB_TABLE_NAME: ${DYNAMODB_TABLE_NAME}
  S3_BUCKET_NAME: ${S3_BUCKET_NAME}